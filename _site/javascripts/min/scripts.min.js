(function(){var a;a=function(){return $("img.retina").each(function(){var a,b,c,d;return a=$(this),a.hasClass("isRetina")?void 0:(b=a.attr("data-original")&&a.attr("data-original").length?"data-original":"src",d=a.attr(b),c=d.replace(/\.(\w+)$/,"@2x.$1"),a.removeAttr("data-src").attr(b,c).addClass("isRetina"))})},$(document).ready(function(){return $("body").attr("data-device-type",categorizr()),window.devicePixelRatio>=2?a():void 0})}).call(this),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;h=null,o=function(){var a,b;return a=$("#projects-gallery"),b=$("#project-wrapper"),a.find("a.p").on("click",function(c){return c.preventDefault(),t($(this),b,a)}),b.on("click","a.close",function(c){return c.preventDefault(),v(b,a)})},t=function(a,b,c){var d;return d=a.attr("src"),b.load(a.attr("href"),function(){return u(b,c)})},u=function(a,b){return a.parent().addClass("open"),h=b.height(),b.delay(250).animate({height:"1px"},250,function(){return k(a),m()}),$("html, body").animate({scrollTop:a.parent().offset().top},250)},v=function(a,b){return b.animate({height:h+"px"},500,function(){return b.css("height","auto"),m(),a.html("")}),a.parent().removeClass("open"),$("html, body").animate({scrollTop:a.parent().offset().top},250)},f=!1,e=!1,s=!1,b=null,c=null,a=null,p=function(){return b=$("section.navigation"),c=b.find("div.right-nav a"),a=$(document),m(),setInterval(function(){var b;return f?(f=!1,b=a.scrollTop(),j(b),i(b)):void 0},50)},j=function(a){var c;return c=b.offset().top-a,0>=c&&s===!1?g():c>0?w():void 0},m=function(){return c.each(function(){var a,b,c;return b=$(this),c=b.attr("title"),a=$("section."+c),a.length?b.attr("data-anchor",a.offset().top):void 0})},i=function(a){return s?c.each(function(){var b,c;return b=$(this),c=parseInt(b.attr("data-anchor")),a+100>=c?b.addClass("active").siblings().removeClass("active"):void 0}):c.removeClass("active")},g=function(){return s=!0,b.addClass("fixed")},w=function(){return s=!1,b.removeClass("fixed")},n=function(){return c.on("click",function(a){return a.preventDefault(),$("html, body").animate({scrollTop:$(this).attr("data-anchor")-40+"px"},350)}),b.find("a.home-anchor").on("click",function(a){return a.preventDefault(),$("html, body").animate({scrollTop:0},350)})},q=function(){return setInterval(function(){return e?(e=!1,m()):void 0},250)},l=function(a,b){var c,d;return d=a.attr("data-src"),a.parent().hide(),d?(c=new Image,c.style.display="none",c.onload=function(){return a.attr("src",d),b?b(a):a.removeAttr("data-src").parent().fadeIn(1e3),m()},c.src=d):void 0},k=function(a){var b,c,d,e;return b=a.find("#portfolio-hero"),c=b.closest(".browser-chrome-wrap"),e=b.attr("data-src"),c.hide(),e?(d=new Image,d.style.display="none",d.onload=function(){return b.attr("src",e).removeAttr("data-src"),c.css("opacity",0).animate({opacity:1},1e3).slideDown(1e3),r(a)},d.src=e):void 0},r=function(a){var b,c;return b=a.find("#portfolio-hero-bottom"),c=a.find("div.secondary-image img"),b&&l(b),c.length?c.each(function(){return l($(this))}):void 0},d=function(a){var b,c;return c=a.attr("data-src"),c&&(b=new Image,b.style.display="none",b.onload=function(){return a.fadeIn(1e3),b.remove()}),b.src=c},$(document).ready(function(){return o(),p(),n(),q(),d($("#landing-hero .image-wrapper")),$(window).scroll(function(){return f=!0}),$(window).resize(function(){return e=!0})})}.call(this);